fact:
POP
PUSHR CX
PUSHR AX
JEQ end
POPR AX
PUSH 1
ADD
POPR CX
PUSHR CX
MUL
CALL fact


BEGIN
IN
PUSH 0
JAE endzero
POP
POPR AX
PUSH 1
PUSH 1
POPR CX
CALL fact
END

endzero:
PUSH 1
OUT
END

end:
POP
POP
OUT
END