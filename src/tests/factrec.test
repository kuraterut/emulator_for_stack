factor:
PUSHR AX
PUSHR BX
MUL
POPR AX
PUSH 1
PUSHR BX
SUB
POPR BX
PUSHR BX
PUSH 1
JAE end
POP
POP
CALL factor
RET

end:
POP
POP
RET

zero:
PUSH 1
OUT
END

BEGIN
IN
PUSH 0
JEQ zero

POP
PUSH 1
POPR AX
POPR BX
CALL factor

PUSHR AX
OUT
END